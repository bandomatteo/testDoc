<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Class: MapStore</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-DIRECTIONS.html">DIRECTIONS</a></div><div class="sidebar-section-children"><a href="module-INTENTIONS.html">INTENTIONS</a></div><div class="sidebar-section-children"><a href="module-LOG_LEVELS.html">LOG_LEVELS</a></div><div class="sidebar-section-children"><a href="module-TILE_TYPES.html">TILE_TYPES</a></div><div class="sidebar-section-children"><a href="module-gameConfig.html">gameConfig</a></div><div class="sidebar-section-children"><a href="module-geometry.html">geometry</a></div><div class="sidebar-section-children"><a href="module-hashMap.html">hashMap</a></div><div class="sidebar-section-children"><a href="module-misc.html">misc</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Agent.html">Agent</a></div><div class="sidebar-section-children"><a href="AgentStore.html">AgentStore</a></div><div class="sidebar-section-children"><a href="Communication.html">Communication</a></div><div class="sidebar-section-children"><a href="DeliverooClient.html">DeliverooClient</a></div><div class="sidebar-section-children"><a href="MapStore.html">MapStore</a></div><div class="sidebar-section-children"><a href="Me.html">Me</a></div><div class="sidebar-section-children"><a href="MultiAgent.html">MultiAgent</a></div><div class="sidebar-section-children"><a href="MultiAgent_MultiAgent.html">MultiAgent</a></div><div class="sidebar-section-children"><a href="OpponentAgent.html">OpponentAgent</a></div><div class="sidebar-section-children"><a href="Parcel.html">Parcel</a></div><div class="sidebar-section-children"><a href="ParcelsStore.html">ParcelsStore</a></div><div class="sidebar-section-children"><a href="ServerConfig.html">ServerConfig</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#astarSearch">astarSearch</a></div><div class="sidebar-section-children"><a href="global.html#buildExecutor">buildExecutor</a></div><div class="sidebar-section-children"><a href="global.html#checkIfIamAtBase">checkIfIamAtBase</a></div><div class="sidebar-section-children"><a href="global.html#direction">direction</a></div><div class="sidebar-section-children"><a href="global.html#executePlan">executePlan</a></div><div class="sidebar-section-children"><a href="global.html#exitCurrentBase">exitCurrentBase</a></div><div class="sidebar-section-children"><a href="global.html#generateDeliverooDomain">generateDeliverooDomain</a></div><div class="sidebar-section-children"><a href="global.html#generateDeliverooProblem">generateDeliverooProblem</a></div><div class="sidebar-section-children"><a href="global.html#getNearTiles">getNearTiles</a></div><div class="sidebar-section-children"><a href="global.html#getPlan">getPlan</a></div><div class="sidebar-section-children"><a href="global.html#goAway">goAway</a></div><div class="sidebar-section-children"><a href="global.html#initApp">initApp</a></div><div class="sidebar-section-children"><a href="global.html#main">main</a></div><div class="sidebar-section-children"><a href="global.html#main">main</a></div><div class="sidebar-section-children"><a href="global.html#main">main</a></div><div class="sidebar-section-children"><a href="global.html#makeOnDeposit">makeOnDeposit</a></div><div class="sidebar-section-children"><a href="global.html#makeOnMove">makeOnMove</a></div><div class="sidebar-section-children"><a href="global.html#makeOnPickup">makeOnPickup</a></div><div class="sidebar-section-children"><a href="global.html#moveAndWait">moveAndWait</a></div><div class="sidebar-section-children"><a href="global.html#moveToNearestBase">moveToNearestBase</a></div><div class="sidebar-section-children"><a href="global.html#planWithDynamicAgents">planWithDynamicAgents</a></div><div class="sidebar-section-children"><a href="global.html#randomMoveAndBack">randomMoveAndBack</a></div><div class="sidebar-section-children"><a href="global.html#registerEventHandlers">registerEventHandlers</a></div><div class="sidebar-section-children"><a href="global.html#runPlanningLoop">runPlanningLoop</a></div><div class="sidebar-section-children"><a href="global.html#sanitizePddlName">sanitizePddlName</a></div><div class="sidebar-section-children"><a href="global.html#smartMove">smartMove</a></div><div class="sidebar-section-children"><a href="global.html#smartMoveToNearestBase">smartMoveToNearestBase</a></div><div class="sidebar-section-children"><a href="global.html#smartMoveToNearestBaseAndPutDown">smartMoveToNearestBaseAndPutDown</a></div><div class="sidebar-section-children"><a href="global.html#waitForAppReady">waitForAppReady</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section><header><h1 id="MapStore-title" class="has-anchor">MapStore</h1></header><article><div class="container-overview"><h3 class="name has-anchor" id="MapStore"><span class="type-signature"></span>new MapStore<span class="signature">()</span></h3><div class="description">This class is responsible for managing the game map, including adding tiles, calculating distances, and handling spawn tiles. It provides methods to add tiles, set their types, calculate distances, find nearest bases, and perform k-means clustering for spawn tile assignment. It also includes methods to reset k-means assignments and calculate the sparseness of spawn tiles. It uses a Map to store tiles and their types, a Set to store bases, and a Map to store spawn tiles. It also maintains a distance matrix for efficient distance calculations between tiles.</div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line9">line 9</a></li></ul></dd></div></dl></div><h2 id="members" class="subsection-title has-anchor">Members</h2><h3 class="name has-anchor" id="bases"><span class="type-signature"></span>bases<span class="type-signature"> :Set.&lt;string></span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Set.&lt;string></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line31">line 31</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="map"><span class="type-signature"></span>map<span class="type-signature"> :Map.&lt;string, number></span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map.&lt;string, number></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line26">line 26</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="size"><span class="type-signature"></span>size<span class="type-signature"></span></h3><div class="description">This method sets the size of the map, which is used for distance calculations.</div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line72">line 72</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="spawnTiles"><span class="type-signature"></span>spawnTiles<span class="type-signature"> :Map.&lt;string, {coord: string, assignedTo: string, available: boolean}></span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map.&lt;string, {coord: string, assignedTo: string, available: boolean}></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line36">line 36</a></li></ul></dd></div></dl><h2 id="methods" class="subsection-title has-anchor">Methods</h2><h3 class="name has-anchor" id="addTile"><span class="type-signature"></span>addTile<span class="signature">(tile)</span></h3><div class="description">This method adds a tile to the map, updates the spawn tiles if the tile is a spawn tile, and adds the tile to the bases set if it is a base tile.</div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>tile</code></td><td class="type"><span class="param-type">Object</span></td><td class="description last">The tile object containing coordinates and type.</td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line53">line 53</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="calculateDistances"><span class="type-signature"></span>calculateDistances<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description">This method computes the distance matrix for all valid tiles in the map. It first collects all valid (non-hole) positions, initializes the distance matrix, and then applies the Floyd-Warshall algorithm to compute the shortest distances between all pairs of tiles.</div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line143">line 143</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Throws:</strong><dl><dt><div class="param-desc">If the map size is null.</div></dt><dd></dd><dt><dl><dt>Type</dt><dd><span class="param-type">Error</span></dd></dl></dt><dd></dd></dl></div><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="calculateSparseness"><span class="type-signature"></span>calculateSparseness<span class="signature">(serverConfig)</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description">This method calculates the ratio of spawn tiles to the total number of cells in the map that are not empty. It also calculates the ratio of spawn tiles to the maximum number of parcels allowed in the server configuration. If both ratios are below the defined thresholds in the config, it sets isSpawnSparse to true.</div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>serverConfig</code></td><td class="type"><span class="param-type"><a href="ServerConfig.html">ServerConfig</a></span></td><td class="description last">The server configuration containing the maximum number of parcels.</td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line267">line 267</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="distance"><span class="type-signature"></span>distance<span class="signature">(from, to)</span><span class="type-signature"> &rarr; {number}</span></h3><div class="description">This method retrieves the indices of the given coordinates from the indexOf map and uses them to access the distance matrix. If either coordinate is not found in the indexOf map, it returns Infinity.</div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>from</code></td><td class="type"><span class="param-type">Object</span></td><td class="description last">The starting coordinates.</td></tr><tr><td class="name"><code>to</code></td><td class="type"><span class="param-type">Object</span></td><td class="description last">The destination coordinates.</td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line214">line 214</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc">- The distance between the two coordinates.</div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">number</span></dd></dl></div><h3 class="name has-anchor" id="kMeans"><span class="type-signature"></span>kMeans<span class="signature">(k, ids, max_iterations, stab_error)</span></h3><div class="description">This method initializes k prototypes with random values, associates each spawn tile to the nearest prototype using Euclidean distance, and updates the prototypes to the means of the associated tiles. It continues iterating until the prototypes are stable or the maximum number of iterations is reached.</div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last">The number of clusters (prototypes).</td></tr><tr><td class="name"><code>ids</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last">The IDs of the agents to assign the spawn tiles to.</td></tr><tr><td class="name"><code>max_iterations</code></td><td class="type"><span class="param-type">number</span></td><td class="description last">The maximum number of iterations for the k-means algorithm.</td></tr><tr><td class="name"><code>stab_error</code></td><td class="type"><span class="param-type">number</span></td><td class="description last">The threshold for stability of prototypes.</td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line289">line 289</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Throws:</strong><dl><dt><div class="param-desc">If the length of ids is not equal to k.</div></dt><dd></dd><dt><dl><dt>Type</dt><dd><span class="param-type">Error</span></dd></dl></dt><dd></dd></dl></div><h3 class="name has-anchor" id="nearestBase"><span class="type-signature"></span>nearestBase<span class="signature">(from)</span><span class="type-signature"> &rarr; {Array}</span></h3><div class="description">This method iterates through all bases in the map, calculates the distance from the given coordinates to each base, and returns the coordinates of the nearest base along with the minimum distance found.</div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>from</code></td><td class="type"><span class="param-type">Object</span></td><td class="description last">The starting coordinates.</td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line236">line 236</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc">- An array containing the coordinates of the nearest base and the distance to it.</div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array</span></dd></dl></div><h3 class="name has-anchor" id="printAllDistances"><span class="type-signature"></span>printAllDistances<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description">This method iterates through all pairs of coordinates in the map and logs the distance between them. It is useful for debugging and understanding the distance relationships in the map.</div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line397">line 397</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="randomSpawnTile"><span class="type-signature"></span>randomSpawnTile<span class="signature">(me)</span><span class="type-signature"> &rarr; {Object}</span></h3><div class="description">This method filters the spawn tiles to find those that are available and either assigned to the given agent or unassigned. It then selects a random tile from the filtered list and returns its coordinates.</div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>me</code></td><td class="type"><span class="param-type"><a href="Me.html">Me</a></span></td><td class="description last">The agent for whom the spawn tile is being searched.</td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line121">line 121</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc">- The coordinates of the randomly selected spawn tile.</div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Object</span></dd></dl></div><h3 class="name has-anchor" id="resetKmeans"><span class="type-signature"></span>resetKmeans<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description">This method iterates through all spawn tiles and sets their assignedTo property to null, effectively resetting the k-means clustering assignments.</div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line383">line 383</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="setType"><span class="type-signature"></span>setType<span class="signature">(tile, type)</span><span class="type-signature"> &rarr; {number}</span></h3><div class="description">This method updates the type of a tile in the map. If the old type was SPAWN, it marks the spawn tile as unavailable. If the old type was BASE, it removes the base from the set. It then sets the new type and updates spawn tiles and bases accordingly.</div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>tile</code></td><td class="type"><span class="param-type">Object</span></td><td class="description last">The tile object containing coordinates.</td></tr><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">number</span></td><td class="description last">The type of the tile to set.</td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="models_mapStore.js.html">models/mapStore.js</a>, <a href="models_mapStore.js.html#line85">line 85</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc">- The old type of the tile before the update.</div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">number</span></dd></dl></div></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-DIRECTIONS.html">DIRECTIONS</a></div><div class="sidebar-section-children"><a href="module-INTENTIONS.html">INTENTIONS</a></div><div class="sidebar-section-children"><a href="module-LOG_LEVELS.html">LOG_LEVELS</a></div><div class="sidebar-section-children"><a href="module-TILE_TYPES.html">TILE_TYPES</a></div><div class="sidebar-section-children"><a href="module-gameConfig.html">gameConfig</a></div><div class="sidebar-section-children"><a href="module-geometry.html">geometry</a></div><div class="sidebar-section-children"><a href="module-hashMap.html">hashMap</a></div><div class="sidebar-section-children"><a href="module-misc.html">misc</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Agent.html">Agent</a></div><div class="sidebar-section-children"><a href="AgentStore.html">AgentStore</a></div><div class="sidebar-section-children"><a href="Communication.html">Communication</a></div><div class="sidebar-section-children"><a href="DeliverooClient.html">DeliverooClient</a></div><div class="sidebar-section-children"><a href="MapStore.html">MapStore</a></div><div class="sidebar-section-children"><a href="Me.html">Me</a></div><div class="sidebar-section-children"><a href="MultiAgent.html">MultiAgent</a></div><div class="sidebar-section-children"><a href="MultiAgent_MultiAgent.html">MultiAgent</a></div><div class="sidebar-section-children"><a href="OpponentAgent.html">OpponentAgent</a></div><div class="sidebar-section-children"><a href="Parcel.html">Parcel</a></div><div class="sidebar-section-children"><a href="ParcelsStore.html">ParcelsStore</a></div><div class="sidebar-section-children"><a href="ServerConfig.html">ServerConfig</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#astarSearch">astarSearch</a></div><div class="sidebar-section-children"><a href="global.html#buildExecutor">buildExecutor</a></div><div class="sidebar-section-children"><a href="global.html#checkIfIamAtBase">checkIfIamAtBase</a></div><div class="sidebar-section-children"><a href="global.html#direction">direction</a></div><div class="sidebar-section-children"><a href="global.html#executePlan">executePlan</a></div><div class="sidebar-section-children"><a href="global.html#exitCurrentBase">exitCurrentBase</a></div><div class="sidebar-section-children"><a href="global.html#generateDeliverooDomain">generateDeliverooDomain</a></div><div class="sidebar-section-children"><a href="global.html#generateDeliverooProblem">generateDeliverooProblem</a></div><div class="sidebar-section-children"><a href="global.html#getNearTiles">getNearTiles</a></div><div class="sidebar-section-children"><a href="global.html#getPlan">getPlan</a></div><div class="sidebar-section-children"><a href="global.html#goAway">goAway</a></div><div class="sidebar-section-children"><a href="global.html#initApp">initApp</a></div><div class="sidebar-section-children"><a href="global.html#main">main</a></div><div class="sidebar-section-children"><a href="global.html#main">main</a></div><div class="sidebar-section-children"><a href="global.html#main">main</a></div><div class="sidebar-section-children"><a href="global.html#makeOnDeposit">makeOnDeposit</a></div><div class="sidebar-section-children"><a href="global.html#makeOnMove">makeOnMove</a></div><div class="sidebar-section-children"><a href="global.html#makeOnPickup">makeOnPickup</a></div><div class="sidebar-section-children"><a href="global.html#moveAndWait">moveAndWait</a></div><div class="sidebar-section-children"><a href="global.html#moveToNearestBase">moveToNearestBase</a></div><div class="sidebar-section-children"><a href="global.html#planWithDynamicAgents">planWithDynamicAgents</a></div><div class="sidebar-section-children"><a href="global.html#randomMoveAndBack">randomMoveAndBack</a></div><div class="sidebar-section-children"><a href="global.html#registerEventHandlers">registerEventHandlers</a></div><div class="sidebar-section-children"><a href="global.html#runPlanningLoop">runPlanningLoop</a></div><div class="sidebar-section-children"><a href="global.html#sanitizePddlName">sanitizePddlName</a></div><div class="sidebar-section-children"><a href="global.html#smartMove">smartMove</a></div><div class="sidebar-section-children"><a href="global.html#smartMoveToNearestBase">smartMoveToNearestBase</a></div><div class="sidebar-section-children"><a href="global.html#smartMoveToNearestBaseAndPutDown">smartMoveToNearestBaseAndPutDown</a></div><div class="sidebar-section-children"><a href="global.html#waitForAppReady">waitForAppReady</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>